<!DOCTYPE html>
<html>
<head>
  <title>Tic Tac Toe</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 100px;
    }
    .board {
      display: inline-block;
      border-collapse: collapse;
    }
    .board td {
      width: 100px;
      height: 100px;
      border: 2px solid #ccc;
      font-size: 48px;
      text-align: center;
      vertical-align: middle;
      cursor: pointer;
    }

    .board td:hover {
      background-color: #f2f2f2;
    }

    .message {
      margin-top: 20px;
      font-size: 24px;
      font-weight: bold;
      min-height: 32px;
    }
  </style>
</head>
<body>
  <table class="board">
    <tr>
      <td onclick="makeMove(0, 0)"></td>
      <td onclick="makeMove(0, 1)"></td>
      <td onclick="makeMove(0, 2)"></td>
    </tr>
    <tr>
      <td onclick="makeMove(1, 0)"></td>
      <td onclick="makeMove(1, 1)"></td>
      <td onclick="makeMove(1, 2)"></td>
    </tr>
    <tr>
      <td onclick="makeMove(2, 0)"></td>
      <td onclick="makeMove(2, 1)"></td>
      <td onclick="makeMove(2, 2)"></td>
    </tr>
  </table>
  <div class="message"></div>

  <script src="./src/tictactoe.js"></script>
  <script>
    const { createBoard, placeMark, getGameStatus } = TicTacToe;
    let currentPlayer = 'X';
    let board = createBoard();
    let gameOver = false;

    const boardElement = document.querySelector('.board');
    const messageElement = document.querySelector('.message');

    function updateCell(row, col) {
      boardElement.rows[row].cells[col].textContent = board[row][col];
    }

    function setMessage(text) {
      messageElement.textContent = text || '';
    }

    function makeMove(row, col) {
      if (gameOver) {
        return;
      }

      try {
        board = placeMark(board, row, col, currentPlayer);
      } catch (error) {
        // Ignore invalid moves (such as clicking an occupied cell)
        return;
      }

      updateCell(row, col);

      const status = getGameStatus(board, currentPlayer);
      if (status) {
        setMessage(status);
        gameOver = true;
      } else {
        currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
        setMessage(`Current Player: ${currentPlayer}`);
      }
    }

    setMessage(`Current Player: ${currentPlayer}`);
    window.makeMove = makeMove;
  </script>
</body>
</html>
