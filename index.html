

<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tic Tac Toe</title>
  <script src="site/js/pwa/install.js" defer></script>
  <style>
    :root {
      color-scheme: light dark;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 40px 16px 80px;
      text-align: center;
      background: linear-gradient(180deg, #ffffff 0%, #f4f4f4 100%);
      color: #222;
    }

    h1 {
      margin-bottom: 16px;
      font-size: 2.5rem;
    }

    main {
      max-width: 640px;
      margin: 0 auto;
    }

    .board {
      display: inline-block;
      border-collapse: collapse;
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.12);
    }

    .board td {
      width: 100px;
      height: 100px;
      border: 2px solid #ccc;
      font-size: 48px;
      text-align: center;
      vertical-align: middle;
      cursor: pointer;
      background-color: rgba(255, 255, 255, 0.85);
      transition: background-color 0.2s ease;
    }

    .board td:hover {
      background-color: #e9f4ff;
    }

    .message {
      margin-top: 20px;
      font-size: 24px;
      font-weight: bold;
      min-height: 1.2em;
    }

    .about {
      margin-top: 48px;
      padding: 24px;
      border-radius: 16px;
      background: rgba(255, 255, 255, 0.75);
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
    }

    .about h2 {
      margin-top: 0;
      font-size: 1.75rem;
    }

    .about p {
      margin: 0 auto 24px;
      max-width: 420px;
      line-height: 1.6;
      font-size: 1rem;
    }

    .install-button {
      display: none;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 20px;
      border: none;
      border-radius: 9999px;
      background: #2563eb;
      color: #fff;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
    }

    .install-button:hover,
    .install-button:focus-visible {
      background-color: #1d4ed8;
      box-shadow: 0 10px 25px rgba(37, 99, 235, 0.35);
      transform: translateY(-1px);
      outline: none;
    }

    .install-button:disabled {
      cursor: not-allowed;
      opacity: 0.7;
      transform: none;
      box-shadow: none;
    }

    .install-button.is-visible {
      display: inline-flex;
    }

    @media (max-width: 640px) {
      body {
        padding: 32px 12px 60px;
      }

      .board td {
        width: 80px;
        height: 80px;
        font-size: 40px;
      }
    }
  </style>
</head>
<body>
  <main>
    <h1>Tic Tac Toe</h1>
    <table class="board" aria-label="Tic Tac Toe board">
      <tr>
        <td onclick="makeMove(0, 0)" role="button" aria-label="Row 1 Column 1"></td>
        <td onclick="makeMove(0, 1)" role="button" aria-label="Row 1 Column 2"></td>
        <td onclick="makeMove(0, 2)" role="button" aria-label="Row 1 Column 3"></td>
      </tr>
      <tr>
        <td onclick="makeMove(1, 0)" role="button" aria-label="Row 2 Column 1"></td>
        <td onclick="makeMove(1, 1)" role="button" aria-label="Row 2 Column 2"></td>
        <td onclick="makeMove(1, 2)" role="button" aria-label="Row 2 Column 3"></td>
      </tr>
      <tr>
        <td onclick="makeMove(2, 0)" role="button" aria-label="Row 3 Column 1"></td>
        <td onclick="makeMove(2, 1)" role="button" aria-label="Row 3 Column 2"></td>
        <td onclick="makeMove(2, 2)" role="button" aria-label="Row 3 Column 3"></td>
      </tr>
    </table>
    <div class="message" aria-live="polite"></div>
    <section class="about">
      <h2>Play anywhere</h2>
      <p>
        Add Tic Tac Toe to your home screen to play even when you are offline. When your browser is ready, an
        install button will appear below so you can keep the game a tap away.
      </p>
      <button class="install-button" type="button" data-install-button aria-hidden="true">
        Install Tic Tac Toe
      </button>
    </section>
  </main>

  <script>
    var currentPlayer = 'X';
    var board = [
      ['', '', ''],
      ['', '', ''],
      ['', '', '']
    ];
    var gameOver = false;
    
    function makeMove(row, col) {
      if (gameOver || board[row][col] !== '') {
        return;
      }
      
      board[row][col] = currentPlayer;
      document.querySelector('.board').rows[row].cells[col].textContent = currentPlayer;
      
      if (checkWin(currentPlayer)) {
        document.querySelector('.message').textContent = currentPlayer + ' Wins!';
        gameOver = true;
      } else if (checkDraw()) {
        document.querySelector('.message').textContent = 'It's a draw!';
        gameOver = true;
      } else {
        currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
      }
    }
    
    function checkWin(player) {
      for (var i = 0; i < 3; i++) {
        if (board[i][0] === player && board[i][1] === player && board[i][2] === player) {
          return true; // Horizontal
        }
        if (board[0][i] === player && board[1][i] === player && board[2][i] === player) {
          return true; // Vertical
        }
      }
      
      if (board[0][0] === player && board[1][1] === player && board[2][2] === player) {
        return true; // Diagonal
      }
      if (board[0][2] === player && board[1][1] === player && board[2][0] === player) {
        return true; // Diagonal
      }
      
      return false;
    }
    
    function checkDraw() {
      for (var i = 0; i < 3; i++) {
        for (var j = 0; j < 3; j++) {
          if (board[i][j] === '') {
            return false;
          }
        }
      }
      
      return true;
    }
  </script>
</body>
</html>
